<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master-Theorem</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f0dcd0 0%, #e0c8b8 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #2c3e50;
            text-decoration: none;
            font-weight: bold;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .description {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .section {
            margin: 40px 0;
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            border-bottom: 3px solid #333;
            padding-bottom: 10px;
        }

        .formula-box {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            font-size: 2.5em;
            font-weight: bold;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(40, 167, 69, 0.3);
        }

        .formula-box .formula {
            font-family: 'Courier New', monospace;
            margin: 20px 0;
        }

        .info-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #333;
            margin: 20px 0;
        }

        .info-box h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .variable-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .variable-card {
            background: white;
            border: 2px solid #333;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s;
        }

        .variable-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .variable-symbol {
            font-size: 3em;
            color: #2c3e50;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            text-align: center;
            margin-bottom: 15px;
        }

        .variable-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            text-align: center;
        }

        .variable-description {
            color: #666;
            line-height: 1.6;
            text-align: center;
        }

        .cases-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .case-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            border: 3px solid #e0e0e0;
            transition: all 0.3s;
        }

        .case-card:hover {
            border-color: #2c3e50;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .case-number {
            background: #333;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            margin: 0 auto 15px;
        }

        .case-condition {
            background: #fff9e6;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            text-align: center;
            border: 2px solid #ffc107;
        }

        .case-result {
            background: #d4edda;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            text-align: center;
            border: 2px solid #28a745;
        }

        .examples-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .examples-table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        .examples-table td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .examples-table tr:hover {
            background: #f8f9fa;
        }

        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
            line-height: 1.8;
        }

        .calculator {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 3px solid #333;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .calculator h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .input-field {
            display: flex;
            flex-direction: column;
        }

        .input-field label {
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .input-field input {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1.1em;
            transition: all 0.3s;
        }

        .input-field input:focus {
            outline: none;
            border-color: #2c3e50;
        }

        button {
            padding: 15px 30px;
            font-size: 1.1em;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            background: #333;
            color: white;
            margin: 10px;
        }

        button:hover {
            background: #555;
            transform: translateY(-2px);
        }

        .result-display {
            background: white;
            border: 3px solid #28a745;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            min-height: 100px;
            display: none;
        }

        .result-display.show {
            display: block;
        }

        .result-title {
            color: #28a745;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .result-content {
            font-size: 1.1em;
            line-height: 1.8;
        }

        .highlight {
            background: #fff9e6;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
            border: 1px solid #ffc107;
        }

        @media (max-width: 768px) {
            .formula-box {
                font-size: 1.5em;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">← Zurück zur Übersicht</a>

        <div class="header">
            <h1>Master-Theorem</h1>
            <p style="color: #666; font-size: 1.1em; margin-top: 10px;">
                Analyse rekursiver Algorithmen mit Divide-and-Conquer
            </p>
        </div>

        <div class="description">
            <strong>Überblick:</strong> Das Master-Theorem (auch Master-Methode genannt) ist ein mächtiges Werkzeug
            zur Bestimmung der Zeitkomplexität von Divide-and-Conquer-Algorithmen. Es bietet eine schnelle Möglichkeit,
            die asymptotische Laufzeit rekursiver Algorithmen zu bestimmen, ohne komplexe mathematische Analysen
            durchführen zu müssen.
        </div>

        <div class="section">
            <h2>Die Master-Theorem-Formel</h2>

            <div class="formula-box">
                <div>Rekurrenzrelation:</div>
                <div class="formula">T(n) = a · T(n/b) + f(n)</div>
            </div>

            <div class="info-box">
                <h3>Wann ist das Master-Theorem anwendbar?</h3>
                <p>Das Master-Theorem kann verwendet werden, wenn ein rekursiver Algorithmus folgende Struktur hat:</p>
                <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                    <li>Das Problem wird in <strong>a</strong> Teilprobleme zerlegt</li>
                    <li>Jedes Teilproblem hat die Größe <strong>n/b</strong></li>
                    <li>Die Kombination der Teillösungen kostet <strong>f(n)</strong></li>
                    <li>Alle Teilprobleme haben dieselbe Größe</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Die Variablen erklärt</h2>

            <div class="variable-grid">
                <div class="variable-card">
                    <div class="variable-symbol">a</div>
                    <div class="variable-name">Anzahl Teilprobleme</div>
                    <div class="variable-description">
                        Gibt an, in wie viele Teilprobleme das ursprüngliche Problem zerlegt wird.
                        Bei Merge Sort ist a = 2 (linke und rechte Hälfte).
                    </div>
                </div>

                <div class="variable-card">
                    <div class="variable-symbol">b</div>
                    <div class="variable-name">Teilungsfaktor</div>
                    <div class="variable-description">
                        Der Faktor, um den die Problemgröße bei jedem Schritt reduziert wird.
                        Bei Merge Sort ist b = 2 (halbieren des Problems).
                    </div>
                </div>

                <div class="variable-card">
                    <div class="variable-symbol">f(n)</div>
                    <div class="variable-name">Kombinationsaufwand</div>
                    <div class="variable-description">
                        Die Kosten für das Teilen des Problems und das Kombinieren der Teillösungen.
                        Bei Merge Sort ist f(n) = O(n) (lineares Mergen).
                    </div>
                </div>

                <div class="variable-card">
                    <div class="variable-symbol">n</div>
                    <div class="variable-name">Problemgröße</div>
                    <div class="variable-description">
                        Die Größe der Eingabe, typischerweise die Anzahl der zu verarbeitenden Elemente.
                        Bestimmt den Rechenaufwand des Algorithmus.
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Die drei Fälle des Master-Theorems</h2>

            <div class="info-box">
                <h3>Wichtige Hilfsgröße:</h3>
                <p style="font-size: 1.2em; text-align: center; margin: 15px 0;">
                    <strong>c<sub>crit</sub> = log<sub>b</sub>(a)</strong>
                </p>
                <p>Diese kritische Größe vergleicht die Anzahl der Teilprobleme mit der Problemreduktion.
                Sie ist der Wendepunkt, der bestimmt, welcher Teil dominiert: die Rekursion oder die Kombinationsarbeit.</p>
            </div>

            <div class="cases-container">
                <div class="case-card">
                    <div class="case-number">1</div>
                    <h3 style="text-align: center; margin-bottom: 15px;">Rekursion dominiert</h3>

                    <div class="case-condition">
                        f(n) = O(n<sup>c</sup>)<br>
                        wobei c &lt; c<sub>crit</sub>
                    </div>

                    <p style="margin: 15px 0; color: #666; text-align: center;">
                        Die rekursiven Aufrufe dominieren die Laufzeit. Die Arbeit in den Blättern des
                        Rekursionsbaums ist größer als die Kombinationsarbeit.
                    </p>

                    <div class="case-result">
                        T(n) = Θ(n<sup>log<sub>b</sub>(a)</sup>)
                    </div>

                    <p style="margin-top: 15px; font-size: 0.9em; color: #666;">
                        <strong>Beispiel:</strong> T(n) = 8T(n/2) + n²<br>
                        → T(n) = Θ(n³)
                    </p>
                </div>

                <div class="case-card">
                    <div class="case-number">2</div>
                    <h3 style="text-align: center; margin-bottom: 15px;">Gleichgewicht</h3>

                    <div class="case-condition">
                        f(n) = Θ(n<sup>c</sup> · log<sup>k</sup>(n))<br>
                        wobei c = c<sub>crit</sub>, k ≥ 0
                    </div>

                    <p style="margin: 15px 0; color: #666; text-align: center;">
                        Rekursion und Kombinationsarbeit halten sich die Waage. Beide tragen gleichmäßig
                        zur Gesamtkomplexität bei.
                    </p>

                    <div class="case-result">
                        T(n) = Θ(n<sup>c</sup> · log<sup>k+1</sup>(n))
                    </div>

                    <p style="margin-top: 15px; font-size: 0.9em; color: #666;">
                        <strong>Beispiel:</strong> T(n) = 2T(n/2) + n<br>
                        → T(n) = Θ(n log n) [Merge Sort]
                    </p>
                </div>

                <div class="case-card">
                    <div class="case-number">3</div>
                    <h3 style="text-align: center; margin-bottom: 15px;">Kombination dominiert</h3>

                    <div class="case-condition">
                        f(n) = Ω(n<sup>c</sup>)<br>
                        wobei c &gt; c<sub>crit</sub>
                    </div>

                    <p style="margin: 15px 0; color: #666; text-align: center;">
                        Die Kombinationsarbeit dominiert. Die Arbeit auf der obersten Ebene ist größer
                        als die Summe aller rekursiven Aufrufe.
                    </p>

                    <div style="background: #fff3cd; padding: 12px; border-radius: 6px; margin: 15px 0; border: 2px solid #ffc107; font-size: 0.85em;">
                        <strong>⚠️ Wichtig - Regularitätsbedingung:</strong><br>
                        Zusätzlich muss gelten: a·f(n/b) ≤ c·f(n)<br>
                        für eine Konstante c &lt; 1 und ausreichend große n
                    </div>

                    <div class="case-result">
                        T(n) = Θ(f(n))
                    </div>

                    <p style="margin-top: 15px; font-size: 0.9em; color: #666;">
                        <strong>Beispiel:</strong> T(n) = 2T(n/2) + n²<br>
                        → T(n) = Θ(n²)
                    </p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Praktische Beispiele</h2>

            <table class="examples-table">
                <thead>
                    <tr>
                        <th>Algorithmus</th>
                        <th>Rekurrenz</th>
                        <th>a</th>
                        <th>b</th>
                        <th>f(n)</th>
                        <th>Fall</th>
                        <th>Ergebnis</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Merge Sort</strong></td>
                        <td>T(n) = 2T(n/2) + n</td>
                        <td>2</td>
                        <td>2</td>
                        <td>O(n)</td>
                        <td>Fall 2</td>
                        <td><strong>Θ(n log n)</strong></td>
                    </tr>
                    <tr>
                        <td><strong>Binäre Suche</strong></td>
                        <td>T(n) = T(n/2) + 1</td>
                        <td>1</td>
                        <td>2</td>
                        <td>O(1)</td>
                        <td>Fall 2</td>
                        <td><strong>Θ(log n)</strong></td>
                    </tr>
                    <tr>
                        <td><strong>Karatsuba Multiplikation</strong></td>
                        <td>T(n) = 3T(n/2) + n</td>
                        <td>3</td>
                        <td>2</td>
                        <td>O(n)</td>
                        <td>Fall 1</td>
                        <td><strong>Θ(n<sup>1.585</sup>)</strong></td>
                    </tr>
                    <tr>
                        <td><strong>Strassen Matrix</strong></td>
                        <td>T(n) = 7T(n/2) + n²</td>
                        <td>7</td>
                        <td>2</td>
                        <td>O(n²)</td>
                        <td>Fall 1</td>
                        <td><strong>Θ(n<sup>2.807</sup>)</strong></td>
                    </tr>
                    <tr>
                        <td><strong>Max Subarray (D&C)</strong></td>
                        <td>T(n) = 2T(n/2) + n</td>
                        <td>2</td>
                        <td>2</td>
                        <td>O(n)</td>
                        <td>Fall 2</td>
                        <td><strong>Θ(n log n)</strong></td>
                    </tr>
                    <tr>
                        <td><strong>Ungünstiger Fall</strong></td>
                        <td>T(n) = 2T(n/2) + n²</td>
                        <td>2</td>
                        <td>2</td>
                        <td>O(n²)</td>
                        <td>Fall 3</td>
                        <td><strong>Θ(n²)</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>Interaktiver Master-Theorem-Rechner</h2>

            <div class="calculator">
                <h3>Berechne die Komplexität deiner Rekurrenz</h3>

                <div class="input-group">
                    <div class="input-field">
                        <label for="inputA">a (Anzahl Teilprobleme):</label>
                        <input type="number" id="inputA" min="1" value="2">
                    </div>

                    <div class="input-field">
                        <label for="inputB">b (Teilungsfaktor):</label>
                        <input type="number" id="inputB" min="2" value="2">
                    </div>

                    <div class="input-field">
                        <label for="inputC">c (Exponent von f(n)=n<sup>c</sup>):</label>
                        <input type="number" id="inputC" step="0.1" value="1">
                    </div>

                    <div class="input-field">
                        <label for="inputK">k (log-Faktor, 0 wenn nicht vorhanden):</label>
                        <input type="number" id="inputK" min="0" value="0">
                    </div>
                </div>

                <div style="text-align: center;">
                    <button onclick="calculateComplexity()">Komplexität berechnen</button>
                    <button onclick="resetCalculator()" style="background: #6c757d;">Zurücksetzen</button>
                </div>

                <div class="result-display" id="resultDisplay">
                    <div class="result-title">Ergebnis</div>
                    <div class="result-content" id="resultContent"></div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Schritt-für-Schritt-Anleitung</h2>

            <div class="info-box">
                <h3>Wie wendet man das Master-Theorem an?</h3>
                <ol style="margin-left: 20px; margin-top: 10px; line-height: 2;">
                    <li><strong>Identifiziere die Rekurrenz:</strong> Stelle die Rekurrenzrelation auf: T(n) = a·T(n/b) + f(n)</li>
                    <li><strong>Bestimme a, b und f(n):</strong>
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li><em>a</em> = Anzahl rekursiver Aufrufe</li>
                            <li><em>b</em> = Faktor der Problemgrößenreduktion</li>
                            <li><em>f(n)</em> = Aufwand für Teilen und Kombinieren</li>
                        </ul>
                    </li>
                    <li><strong>Berechne c<sub>crit</sub>:</strong> c<sub>crit</sub> = log<sub>b</sub>(a)</li>
                    <li><strong>Bestimme c:</strong> Falls f(n) = Θ(n<sup>c</sup>), identifiziere den Exponenten c</li>
                    <li><strong>Vergleiche c mit c<sub>crit</sub>:</strong>
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li>Falls c &lt; c<sub>crit</sub> → Fall 1</li>
                            <li>Falls c = c<sub>crit</sub> → Fall 2</li>
                            <li>Falls c &gt; c<sub>crit</sub> → Fall 3</li>
                        </ul>
                    </li>
                    <li><strong>Wende die entsprechende Formel an</strong></li>
                </ol>
            </div>
        </div>

        <div class="section">
            <h2>Beispiel-Rechnung: Merge Sort</h2>

            <div class="info-box">
                <h3>Gegeben: T(n) = 2T(n/2) + n</h3>

                <div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <p><strong>Schritt 1:</strong> Parameter identifizieren</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>a = 2 (zwei rekursive Aufrufe für linke und rechte Hälfte)</li>
                        <li>b = 2 (Problem wird halbiert)</li>
                        <li>f(n) = n (lineares Mergen)</li>
                    </ul>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <p><strong>Schritt 2:</strong> c<sub>crit</sub> berechnen</p>
                    <p style="margin: 10px 0; font-family: 'Courier New', monospace;">
                        c<sub>crit</sub> = log<sub>2</sub>(2) = 1
                    </p>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <p><strong>Schritt 3:</strong> c bestimmen</p>
                    <p style="margin: 10px 0;">
                        f(n) = n = n<sup>1</sup>, also c = 1
                    </p>
                </div>

                <div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <p><strong>Schritt 4:</strong> Vergleichen</p>
                    <p style="margin: 10px 0;">
                        c = 1 = c<sub>crit</sub> → <span class="highlight">Fall 2 anwendbar!</span>
                    </p>
                </div>

                <div style="background: #d4edda; padding: 20px; border-radius: 10px; margin: 20px 0; border: 3px solid #28a745;">
                    <p><strong>Schritt 5:</strong> Ergebnis</p>
                    <p style="margin: 10px 0; font-size: 1.3em; font-weight: bold; text-align: center;">
                        T(n) = Θ(n<sup>c<sub>crit</sub></sup> · log(n)) = Θ(n · log(n)) = Θ(n log n)
                    </p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Grenzen des Master-Theorems</h2>

            <div class="info-box">
                <h3>Wann ist das Master-Theorem NICHT anwendbar?</h3>
                <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                    <li><strong>Ungleiche Teilprobleme:</strong> T(n) = T(n/3) + T(2n/3) + n (unterschiedliche Größen)</li>
                    <li><strong>Variable Anzahl von Aufrufen:</strong> T(n) = T(n-1) + T(n-2) + 1 (Fibonacci-Muster)</li>
                    <li><strong>Nicht-polynomiale f(n):</strong> T(n) = 2T(n/2) + n log n (log-Term stört)</li>
                    <li><strong>Komplexe Kombinationsfunktionen:</strong> T(n) = 2T(n/2) + n/log(n)</li>
                    <li><strong>Fall 3 Regularitätsbedingung verletzt:</strong> z.B. T(n) = 2T(n/2) + n(2 - cos n) (die Bedingung a·f(n/b) ≤ c·f(n) ist nicht erfüllt, da f(n) oszilliert)</li>
                </ul>
                <p style="margin-top: 15px;"><strong>Alternative Methoden:</strong> Rekursionsbaum-Methode, Substitutionsmethode, oder direkte Analyse.</p>
            </div>
        </div>

        <div class="section">
            <h2>Visualisierung der Rekursionstiefe</h2>

            <div class="info-box">
                <h3>Wie tief ist der Rekursionsbaum?</h3>
                <p>Die Tiefe des Rekursionsbaums ist wichtig für das Verständnis der Laufzeit:</p>

                <div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <p style="text-align: center; font-size: 1.3em; font-weight: bold; margin: 15px 0;">
                        Tiefe = log<sub>b</sub>(n)
                    </p>
                    <p style="margin-top: 15px;">
                        Bei jedem Level wird die Problemgröße durch <em>b</em> geteilt.
                        Nach log<sub>b</sub>(n) Schritten erreichen wir die Basisfälle.
                    </p>
                </div>

                <p><strong>Beispiel Merge Sort (b=2):</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                    <li>n = 8 → Tiefe = log₂(8) = 3</li>
                    <li>n = 16 → Tiefe = log₂(16) = 4</li>
                    <li>n = 1000 → Tiefe ≈ log₂(1000) ≈ 10</li>
                    <li>n = 1.000.000 → Tiefe ≈ log₂(1.000.000) ≈ 20</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function calculateComplexity() {
            const a = parseFloat(document.getElementById('inputA').value);
            const b = parseFloat(document.getElementById('inputB').value);
            const c = parseFloat(document.getElementById('inputC').value);
            const k = parseFloat(document.getElementById('inputK').value);

            if (isNaN(a) || isNaN(b) || isNaN(c) || isNaN(k) || a < 1 || b < 2) {
                alert('Bitte gültige Werte eingeben! (a ≥ 1, b ≥ 2)');
                return;
            }

            const cCrit = Math.log(a) / Math.log(b);
            const epsilon = 0.01; // Toleranz für Vergleich

            let resultHTML = `
                <p><strong>Eingabe:</strong> T(n) = ${a} · T(n/${b}) + n<sup>${c}</sup>${k > 0 ? ' · log<sup>' + k + '</sup>(n)' : ''}</p>
                <hr style="margin: 15px 0;">
                <p><strong>Berechnung:</strong></p>
                <p>• a = ${a} (Anzahl Teilprobleme)</p>
                <p>• b = ${b} (Teilungsfaktor)</p>
                <p>• c = ${c} (Exponent von f(n))</p>
                <p>• k = ${k} (Logarithmus-Faktor)</p>
                <p>• c<sub>crit</sub> = log<sub>${b}</sub>(${a}) = ${cCrit.toFixed(3)}</p>
                <hr style="margin: 15px 0;">
            `;

            let result = '';
            let caseNum = 0;

            if (Math.abs(c - cCrit) < epsilon) {
                // Fall 2
                caseNum = 2;
                const newK = k + 1;
                result = `T(n) = Θ(n<sup>${cCrit.toFixed(3)}</sup> · log<sup>${newK}</sup>(n))`;
                if (Math.abs(cCrit - 1) < epsilon && newK === 1) {
                    result = `T(n) = Θ(n log n)`;
                }
                resultHTML += `
                    <p><strong>Vergleich:</strong> c = c<sub>crit</sub> (${c} ≈ ${cCrit.toFixed(3)})</p>
                    <p style="background: #fff9e6; padding: 15px; border-radius: 8px; margin: 15px 0; border: 2px solid #ffc107;">
                        <strong>Fall 2 anwendbar!</strong><br>
                        Rekursion und Kombinationsarbeit halten sich die Waage.
                    </p>
                    <p style="background: #d4edda; padding: 20px; border-radius: 8px; margin: 15px 0; font-size: 1.2em; font-weight: bold; text-align: center; border: 3px solid #28a745;">
                        ${result}
                    </p>
                `;
            } else if (c < cCrit) {
                // Fall 1
                caseNum = 1;
                result = `T(n) = Θ(n<sup>${cCrit.toFixed(3)}</sup>)`;
                if (Math.abs(cCrit - Math.round(cCrit)) < epsilon) {
                    result = `T(n) = Θ(n<sup>${Math.round(cCrit)}</sup>)`;
                }
                resultHTML += `
                    <p><strong>Vergleich:</strong> c &lt; c<sub>crit</sub> (${c} &lt; ${cCrit.toFixed(3)})</p>
                    <p style="background: #fff9e6; padding: 15px; border-radius: 8px; margin: 15px 0; border: 2px solid #ffc107;">
                        <strong>Fall 1 anwendbar!</strong><br>
                        Die rekursiven Aufrufe dominieren die Laufzeit.
                    </p>
                    <p style="background: #d4edda; padding: 20px; border-radius: 8px; margin: 15px 0; font-size: 1.2em; font-weight: bold; text-align: center; border: 3px solid #28a745;">
                        ${result}
                    </p>
                `;
            } else {
                // Fall 3
                caseNum = 3;
                result = `T(n) = Θ(n<sup>${c}</sup>${k > 0 ? ' · log<sup>' + k + '</sup>(n)' : ''})`;
                resultHTML += `
                    <p><strong>Vergleich:</strong> c &gt; c<sub>crit</sub> (${c} &gt; ${cCrit.toFixed(3)})</p>
                    <p style="background: #fff9e6; padding: 15px; border-radius: 8px; margin: 15px 0; border: 2px solid #ffc107;">
                        <strong>Fall 3 anwendbar!</strong><br>
                        Die Kombinationsarbeit dominiert die Laufzeit.
                    </p>
                    <p style="background: #d4edda; padding: 20px; border-radius: 8px; margin: 15px 0; font-size: 1.2em; font-weight: bold; text-align: center; border: 3px solid #28a745;">
                        ${result}
                    </p>
                `;
            }

            // Praktische Interpretation
            resultHTML += `
                <hr style="margin: 15px 0;">
                <p><strong>Praktische Interpretation:</strong></p>
                <p>Die Rekursionstiefe beträgt: log<sub>${b}</sub>(n) ≈ ${(Math.log(1000) / Math.log(b)).toFixed(2)} für n=1000</p>
            `;

            document.getElementById('resultContent').innerHTML = resultHTML;
            document.getElementById('resultDisplay').classList.add('show');

            // Scroll to result
            document.getElementById('resultDisplay').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function resetCalculator() {
            document.getElementById('inputA').value = 2;
            document.getElementById('inputB').value = 2;
            document.getElementById('inputC').value = 1;
            document.getElementById('inputK').value = 0;
            document.getElementById('resultDisplay').classList.remove('show');
        }
    </script>
</body>
</html>
